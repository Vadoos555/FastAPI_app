{% extends 'base.html' %}

{% block content %}

    {% if action == 'withdraw' %}
        <p>Your withdraw of {{ amount }} was successful.</p>
        <p>Your new balance is {{ balance }}.</p>

        <form method="post" action="/transaction">
            <input type="hidden" name="action" value="withdraw">
            <label for="amount">Withdraw amount:</label>
            <input type="number" id="amount" name="amount" min="1" max="{{ balance }}">
            <button type="submit">Withdraw</button>
        </form>
    {% elif action == 'deposit' %}
        <p>Your deposit of {{ amount }} was successful.</p>
        <p>Your new balance is {{ balance }}.</p>

        <form method="post" action="/transaction">
            <input type="hidden" name="action" value="deposit">
            <label for="amount">Deposit amount:</label>
            <input type="number" id="amount" name="amount" min="1">
            <button type="submit">Deposit</button>
        </form>
    {% else %}
        <p>{{ balance }}</p>

        <form method="post" action="/transaction">
            <label for="action">Choose action:</label>
            <select name="action" id="action">
                <option value="withdraw">Withdraw</option>
                <option value="deposit">Deposit</option>
            </select>
            <br>
            <label for="amount">Amount:</label>
            <input type="number" id="amount" name="amount" min="1">
            <br>
            <button type="submit">Submit</button>
        </form>
    {% endif %}

{% endblock %}
